{
  "products": [
    {
      "name": "deploy-arch-ibm-watsonx-data",
      "label": "Cloud automation for watsonx.data",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "watson",
        "ai",
        "converged_infra"
      ],
      "keywords": [
        "watsonx.data",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "ai"
      ],
      "short_description": "Creates and configures an instance of IBM watsonx.data.",
      "long_description": "IBM watsonx.data is a data management solution for collecting, storing, querying, and analyzing all your enterprise data with a single unified data platform. The Cloud automation for watsonx.data allows user to set up an instance of watsonx.data. For more details on watsonx.data, [refer here](https://cloud.ibm.com/docs/watsonxdata/index.html).",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-watsonx-data/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-watsonx-data/main/images/watsonx-data.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "watsonx.data instance",
          "description": "Get started with provisioning an instance of IBM watsonx.data and discover more about its capabilities [here](https://www.ibm.com/products/watsonx-data)."
        },
        {
          "title": "Enable KMS Encryption",
          "description": "Optionally you can enable Key Management Services (KMS) [encryption](https://cloud.ibm.com/docs/watsonxdata?topic=watsonxdata-mng_data) of the watsonx.data instance for the Enterprise plan using either a newly created key or an existing one."
        },
        {
          "title": "Observability",
          "description": "This solution can leverage [Cloud automation for Observability](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-observability-a3137d28-79e0-479d-8a24-758ebd5a0eab-global) that supports configuring resources for logging, monitoring and activity tracker event routing."
        }
      ],
      "support_details": "This product is in the community registry, support is handled through the [original repo](https://github.com/terraform-ibm-modules/terraform-ibm-watsonx-data). If you experience issues kindly open an issue [here](https://github.com/terraform-ibm-modules/terraform-ibm-watsonx-data/issues). Please note that this product is not currently supported through the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "AI Security Guardrails 2.0",
                "profile_version": "1.1.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Viewer"],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Administrator"],
              "service_name": "All Account Management services",
              "notes": "[Optional] Required for consuming Account Configuration deployable architecture which creates resource group."
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Administrator"],
              "service_name": "All Identity and Access enabled services",
              "notes": "[Optional] Required for consuming Account Configuration deployable architecture which creates resource group with account setting."
            },
            {
              "role_crns": ["crn:v1:bluemix:public:iam::::role:Editor"],
              "service_name": "lakehouse",
              "notes": "Required for creating a new instance of watsonx.data"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required for enabling KMS encryption in Event Routing, Cloud Logs deployable architecture, and for encrypting the Watsonx Data instance using Key Protect."
            },
            {
              "service_name": "hs-crypto",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required for enabling Hyper Protect Crypto Services in Event Routing, Cloud Logs deployable architecture, and for encrypting the Watsonx Data instance using Hyper Protect Crypto Services."
            },
            {
              "service_name": "atracker",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required for configuring Activity Tracker event routing to cloud object storage bucket and cloud logs."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required for creating a new instance of cloud monitoring."
            },
            {
              "service_name": "logs",
              "notes": "[Optional] Required for creating a new instance of cloud logs.",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ]
            },
            {
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required for enabling COS in Event Routing and Cloud Logs deployable architecture.",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ]
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure by default standards, but can be edited to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "watsonx.data on IBM Cloud",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-watsonx-data/main/reference-architecture/deployable-architecture-watsonx-data.svg",
                  "type": "image/svg+xml"
                },
                "description": "This solution deploys a watsonx.data instance on IBM Cloud, with optional integration of additional services to support enterprise-grade requirements.<br><br>It enables encryption for the watsonx.data instance by provisioning an IBM Key Protect service instance, where a Key Ring and associated Key are created to manage encryption through IBM Cloud Key Management Services (KMS). You can choose to provide an existing KMS instance details as well.<br><br>In addition, you have an option to integrate with Observability services. Cloud automation for Observability provides robust monitoring and logging capabilities to deliver deep operational insights into your watsonx.data deployment. You can use IBM Cloud Activity Tracker Event Routing to monitor how users and applications interact with watsonx.data, supporting compliance and auditability. Cloud logs can be enabled to collect, view, and analyze platform logs related to key watsonx.data components such as the metastore and query engine, and to gain visibility into usage patterns through active tasks and queries. Furthermore, IBM Cloud Monitoring captures essential metrics such as CPU and memory utilization, helping you proactively monitor system performance and resource consumption."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                }
              ]
            },
            {
              "key": "service_plan",
              "required": true,
              "options": [
                {
                  "displayname": "Lite",
                  "value": "lite"
                },
                {
                  "displayname": "Enterprise",
                  "value": "lakehouse-enterprise"
                }
              ]
            },
            {
              "key": "lite_plan_use_case",
              "required": true,
              "options": [
                {
                  "displayname": "Generative AI",
                  "value": "ai"
                },
                {
                  "displayname": "Data Engineering",
                  "value": "workloads"
                },
                {
                  "displayname": "High Performance BI",
                  "value": "performance"
                }
              ]
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": true,
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true
            },
            {
              "key": "logs_routing_tenant_regions",
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "default_value": "[]",
              "virtual": true,
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "watsonx_data_instance_name"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "access_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "enable_kms_encryption"
            },
            {
              "key": "existing_kms_instance_crn"
            },
            {
              "key": "existing_kms_key_crn"
            },
            {
              "key": "kms_endpoint_type",
              "hidden": true,
              "options": [
                {
                  "displayname": "Public",
                  "value": "public"
                },
                {
                  "displayname": "Private",
                  "value": "private"
                }
              ]
            },
            {
              "key": "watsonx_data_key_ring_name"
            },
            {
              "key": "watsonx_data_key_name"
            },
            {
              "key": "skip_watsonx_data_kms_iam_auth_policy"
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "description": "Cloud automation for Account Configuration organizes your IBM Cloud account with a ready-made set of resource groups by defaultâ€”and, when you enable the \"with Account Settings\" option, it also applies baseline security and governance settings.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "resource-group-only",
                "resource-groups-with-account-settings"
              ],
              "default_flavor": "resource-group-only",
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [
                {
                  "dependency_output": "workload_resource_group_name",
                  "version_input": "existing_resource_group_name"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": false,
              "version": "v3.0.7"
            },
            {
              "name": "deploy-arch-ibm-kms",
              "description": "Enable when you want to use your own managed encryption keys. If disabled, it will fall back on IBM Cloud's default service-managed encryption.",
              "id": "2cad4789-fa90-4886-9c9e-857081c273ee-global",
              "version": "v5.1.4",
              "flavors": ["fully-configurable"],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_output": "kms_instance_crn",
                  "version_input": "existing_kms_instance_crn"
                },
                {
                  "version_input": "enable_kms_encryption",
                  "value": true
                },
                {
                  "dependency_input": "kms_endpoint_type",
                  "version_input": "kms_endpoint_type",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-cloud-logs",
              "description": "Provision and configure IBM Cloud Logs for analysing logs generated by the Watsonx data instance.",
              "flavors": ["fully-configurable"],
              "id": "63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.5.6"
            },
            {
              "name": "deploy-arch-ibm-cloud-monitoring",
              "description": "Provision and configure IBM Cloud Monitoring for metrics generated by the Watsonx data instance.",
              "flavors": ["fully-configurable"],
              "id": "73debdbf-894f-4c14-81c7-5ece3a70b67d-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.3.0"
            },
            {
              "name": "deploy-arch-ibm-activity-tracker",
              "description": "Configure a new IBM Cloud Logs instance for viewing activity tracking events generated by the Watsonx data instance.",
              "flavors": ["fully-configurable"],
              "id": "918453c3-4f97-4583-8c4a-83ef12fc7916-global",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v1.1.4"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
